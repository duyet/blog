{"componentChunkName":"component---src-templates-post-template-tsx","path":"/2014/03/flv2mp3-php-class-chuyen-flv-thanh-mp3.html","result":{"data":{"markdownRemark":{"id":"860fc885-d882-5108-954c-f9bfd6f76337","html":"<p>Với class Flv2mp3 bạn có thể dễ dàng chuyển đổi file video với định dạng flv thành file âm thanh mp3 một cách dễ dàng.\nDownload class <a href=\"https://www.phpclasses.org/package/5212-PHP-Extract-MP3-audio-from-Flash-video-movies.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">tại đây</a> và sử dụng theo ví dụ bên dưới.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> \n\n<span class=\"token comment\">// @exsample </span>\n<span class=\"token comment\">/* \n * This file I have download from youtube.com with the url \n * https://www.youtube.com/watch?v=P_gDz-Qlef0&amp;feature=PlayList&amp;p=E79725C3F709B278&amp;playnext=1&amp;index=1 \n*/</span> \n\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span> \n\n<span class=\"token comment\">// Path to the downloaded flv file </span>\n<span class=\"token punctuation\">(</span><span class=\"token keyword type-casting\">string</span><span class=\"token punctuation\">)</span> <span class=\"token variable\">$file</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"P_gDz-Qlef0.flv\"</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">// Load the Flv2Mp3 class </span>\n<span class=\"token keyword\">include_once</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'flv2mp3.class.php'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">// Create the $mp3 object </span>\n<span class=\"token variable\">$mp3</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Flv2Mp3</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'delete'</span> <span class=\"token operator\">=></span> <span class=\"token constant boolean\">False</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">// Convert the flv file into mp3 </span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> <span class=\"token variable\">$mp3</span><span class=\"token operator\">-></span><span class=\"token function\">convert</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$file</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> <span class=\"token function\">is_file</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$mp3</span><span class=\"token operator\">-></span><span class=\"token function\">getOutfile</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$file</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n        <span class=\"token variable\">$mp3</span><span class=\"token operator\">-></span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$mp3</span><span class=\"token operator\">-></span><span class=\"token function\">getOutfile</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$file</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n    <span class=\"token punctuation\">}</span> \n<span class=\"token punctuation\">}</span> \n\n<span class=\"token comment\">// If you have set the parameter delete => Fale you have </span>\n<span class=\"token comment\">// to delete the converted file manually. </span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> <span class=\"token function\">is_file</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$mp3</span><span class=\"token operator\">-></span><span class=\"token function\">getOutfile</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$file</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token keyword\">echo</span> <span class=\"token variable\">$mp3</span><span class=\"token operator\">-></span><span class=\"token function\">getOutfile</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$file</span> <span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\" exist!\"</span><span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span> \n\n<span class=\"token comment\">// You can also stream the mp3 with the convert method </span>\n<span class=\"token comment\">// if ( !$mp3->convert( $file, True ) ) { </span>\n<span class=\"token comment\">//       echo \"Can't convert \".$file; </span>\n<span class=\"token comment\">// } </span>\n\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span> <span class=\"token class-name type-declaration\">Exception</span> <span class=\"token variable\">$error</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n\n    <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"Error: &lt;br/>\\n\"</span><span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">echo</span> <span class=\"token variable\">$error</span><span class=\"token operator\">-></span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br/>\\n\"</span><span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"Line: \"</span><span class=\"token operator\">.</span><span class=\"token variable\">$error</span><span class=\"token operator\">-></span><span class=\"token function\">getLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\" in \"</span><span class=\"token operator\">.</span><span class=\"token variable\">$error</span><span class=\"token operator\">-></span><span class=\"token function\">getFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">.</span><span class=\"token string double-quoted-string\">\"&lt;br/>\\n\"</span><span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">echo</span> <span class=\"token variable\">$error</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token punctuation\">}</span> \n\n<span class=\"token delimiter important\">?></span></span> \n</code></pre></div>\n<p>Chúc bạn thành công.</p>","fields":{"slug":"/2014/03/flv2mp3-php-class-chuyen-flv-thanh-mp3.html","tagSlugs":["/tag/class/","/tag/tuts/","/tag/php/"]},"frontmatter":{"date":"2014-03-06T21:31:00.001+07:00","description":"Với class Flv2mp3 bạn có thể dễ dàng chuyển đổi file video với định dạng flv thành file âm thanh mp3 một cách dễ dàng.","tags":["class","tuts","php"],"title":"Flv2mp3 PHP Class - Chuyển FLV thành MP3 bằng PHP","fbCommentUrl":null}}},"pageContext":{"slug":"/2014/03/flv2mp3-php-class-chuyen-flv-thanh-mp3.html"}},"staticQueryHashes":["251939775","2672868365","401334301"]}