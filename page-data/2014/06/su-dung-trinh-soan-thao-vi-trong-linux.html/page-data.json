{"componentChunkName":"component---src-templates-post-template-js","path":"/2014/06/su-dung-trinh-soan-thao-vi-trong-linux.html","result":{"data":{"markdownRemark":{"id":"003392fc-f890-5df0-8408-81d96de29e9b","html":"<p>Linux là một hệ điều hành được điều khiển đa phần qua môi trường dòng lệnh (console), thêm vào đó, các file cấu hình dịch vụ trên Linux thường được chỉnh sửa bởi trình editor là vi (hay vim, bản cải thiện của <code class=\"language-text\">vi</code>. Nếu bạn là người thường xuyên quản trị server linux qua console, thì vi là trình tiện ích hay sử dụng nhất. Do vậy, học cách sử dụng vi là một yêu cầu tối thiểu và cần thiết cho một người sử dụng linux.</p>\n<h2 id=\"1-cơ-bản\" style=\"position:relative;\"><a href=\"#1-c%C6%A1-b%E1%BA%A3n\" aria-label=\"1 cơ bản permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Cơ bản</h2>\n<ul>\n<li>Sử dụng vi kèm theo tên file(s) muốn edit: <code class=\"language-text\">vi one.txt two.txt etc.txt</code></li>\n<li>Có 2 mode: <strong>command mode</strong> và insert mode. Khi bắt đầu sử dụng lệnh vi, vi mặc định ở <strong>command mode</strong>. Hoặc ấn <code class=\"language-text\">Esc</code> để chuyển sang <strong>command mode</strong> khi người dùng đang ở insert mode.</li>\n</ul>\n<h2 id=\"2-các-lệnh-edit-cơ-bản\" style=\"position:relative;\"><a href=\"#2-c%C3%A1c-l%E1%BB%87nh-edit-c%C6%A1-b%E1%BA%A3n\" aria-label=\"2 các lệnh edit cơ bản permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Các lệnh edit cơ bản</h2>\n<ul>\n<li>Ấn phím lệnh i hoặc a từ chế độ <strong>command mode</strong> để chuyển sang insert mode. i để thêm ký tự trước con trỏ, a để thêm ký tự sau con trỏ.</li>\n<li>Sử dụng lệnh <code class=\"language-text\">h</code> <code class=\"language-text\">j</code> <code class=\"language-text\">k</code> <code class=\"language-text\">l</code> hoặc các phím mũi tên tương ứng để di chuyển con trỏ sang trái, xuống, lên, sang phải.</li>\n<li>Sử dụng <code class=\"language-text\">x</code> xóa 1 ký tự, <code class=\"language-text\">dw</code> xóa 1 từ, <code class=\"language-text\">dd</code> xóa cả 1 dòng.</li>\n<li>Sử dụng số <code class=\"language-text\">N</code> đi trước phím lệnh để lặp lại N lần tác dụng của lệnh. Ví dụ, <code class=\"language-text\">3dw</code> sẽ xóa 3 từ tính từ vị trí con trỏ.</li>\n<li>Sử dụng <code class=\"language-text\">u</code> ( = undo )để khôi phục lại những thay đổi trước đó.</li>\n<li>Sử dụng <code class=\"language-text\">ZZ</code> hay <code class=\"language-text\">:wq</code> lưu lại tất cả thay đổi và thoát.</li>\n<li>Sử dụng <code class=\"language-text\">:q!</code> thoát ra không lưu lại bất kỳ thay đổi nào.</li>\n</ul>\n<h2 id=\"3-cắt-và-dán\" style=\"position:relative;\"><a href=\"#3-c%E1%BA%AFt-v%C3%A0-d%C3%A1n\" aria-label=\"3 cắt và dán permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Cắt và dán</h2>\n<ul>\n<li><code class=\"language-text\">yy</code> sao chép dòng hiện tại vào buffer, <code class=\"language-text\">Nyy</code> sao chép N dòng.</li>\n<li><code class=\"language-text\">p</code> ( P ) dán nội dung từ buffer vào dưới (trên) dòng hiện tại</li>\n</ul>\n<h2 id=\"4-nhảy-đến-hàng-hay-cột\" style=\"position:relative;\"><a href=\"#4-nh%E1%BA%A3y-%C4%91%E1%BA%BFn-h%C3%A0ng-hay-c%E1%BB%99t\" aria-label=\"4 nhảy đến hàng hay cột permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Nhảy đến hàng hay cột</h2>\n<ul>\n<li>Gõ một số N trước ký tự <code class=\"language-text\">G</code> để đi đến dòng thứ N, vd <code class=\"language-text\">23G</code> sẽ nhảy đến dòng 23.</li>\n<li>Gõ một số N trước ký tự <code class=\"language-text\">|</code> (pipe) để nhảy đến cột thứ N.</li>\n</ul>\n<h2 id=\"5-sử-dụng--để-lặp-lại-action-gần\" style=\"position:relative;\"><a href=\"#5-s%E1%BB%AD-d%E1%BB%A5ng--%C4%91%E1%BB%83-l%E1%BA%B7p-l%E1%BA%A1i-action-g%E1%BA%A7n\" aria-label=\"5 sử dụng  để lặp lại action gần permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Sử dụng . để lặp lại action gần</h2>\n<ul>\n<li>Ví dụ người dùng gõ i để insert dòng chữ “hello world”, sau đó chuyển sang chế độ <strong>command mode</strong> bằng phím <code class=\"language-text\">Esc</code>, nhảy xuống dòng và gõ . , dòng chữ “hello world” sẽ hiện ra.</li>\n</ul>\n<h2 id=\"6-tìm-kiếm\" style=\"position:relative;\"><a href=\"#6-t%C3%ACm-ki%E1%BA%BFm\" aria-label=\"6 tìm kiếm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. Tìm kiếm</h2>\n<ul>\n<li>Sử dụng <code class=\"language-text\">/</code> (<code class=\"language-text\">?</code>) đi theo sau là từ muốn tìm để tìm kiếm từ trong phần văn bản sau ( trước ) con trỏ. ví dụ <code class=\"language-text\">/foobar</code> hay <code class=\"language-text\">?foobar</code>.</li>\n<li>Sau khi kết quả tìm kiếm đầu tiên hiện ra, sử dụng <code class=\"language-text\">n</code> để tìm kiếm tiếp trong phần văn bản còn lại sau con trỏ, <code class=\"language-text\">N</code> để tìm kiếm ngược trở lại đầu văn bản trước con trỏ.</li>\n</ul>\n<h2 id=\"7-các-lệnh-colon--đi-sau-dấu--\" style=\"position:relative;\"><a href=\"#7-c%C3%A1c-l%E1%BB%87nh-colon--%C4%91i-sau-d%E1%BA%A5u--\" aria-label=\"7 các lệnh colon  đi sau dấu   permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. Các lệnh colon ( đi sau dấu : )</h2>\n<ul>\n<li><code class=\"language-text\">:%s/foo/bar/g</code> tìm sự xuất hiện của “foo” trong toàn bộ file và thay thế bằng “bar”, <code class=\"language-text\">/foo/bar/g</code> chỉ thay thế ở dòng hiện tại.</li>\n<li><code class=\"language-text\">et</code> <code class=\"language-text\">nu</code> hiển thị số dòng trước mỗi dòng, et nonu để bỏ hiển thị số dòng.</li>\n<li><code class=\"language-text\">:1,8d</code> xóa từ dòng 1 cho đến dòng 8 trong file.</li>\n<li>Sử dụng <code class=\"language-text\">ma</code> để đánh dấu dòng hiện tại là <code class=\"language-text\">a</code> ( có thể là bất cứ ký tự nào từ <code class=\"language-text\">a-z</code> ). Sau đó dùng ‘a để nhảy đến dòng đã được dánh dấu là a từ bất cứ đâu. Có thể sử dụng với colon, :’a,’b d xóa tất cả các dòng bắt đầu từ dòng được đánh dấu là a cho đến dòng được đánh dấu là b, hoặc ngược lại.</li>\n<li><code class=\"language-text\">:w newfile.txt</code> để save nội dung của file hiện tại vào một file mới là <code class=\"language-text\">newfile.txt</code> ( tựa “save as” bên Win Word ).</li>\n<li><code class=\"language-text\">:8,16</code> co 32 để copy dòng 8 đến 16 đến điểm sau dòng 32.</li>\n<li><code class=\"language-text\">:3,16 m</code> 32 để chuyển rời dòng 8 đến 16 đến điểm sau dòng 32.</li>\n<li>Nếu dùng vi để mở nhiều file ( <code class=\"language-text\">vi file1 file2 file3</code> ), có thể sử dụng <code class=\"language-text\">:n</code> để nhảy đến file tiếp theo và <code class=\"language-text\">:rew</code> để nhảy quay ngược lại đến file đầu tiên, :args để hiện thị tất cả các file đang được mở.</li>\n</ul>\n<h2 id=\"8-vi-for-smarties\" style=\"position:relative;\"><a href=\"#8-vi-for-smarties\" aria-label=\"8 vi for smarties permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. Vi for Smarties</h2>\n<ul>\n<li>Sử dụng <code class=\"language-text\">G</code> để nhảy đến dòng cuối cùng của file.</li>\n<li>Khi xóa nhiều dòng, di chuyển con chuột đến dòng đầu tiên, gõ ma để đánh dấu, sau di đến dòng cuối cùng và gõ d’a để xóa những dòng đó.</li>\n<li><code class=\"language-text\">$</code> để nhảy xuống cuối dòng, <code class=\"language-text\">:$</code> để nhảy đến dòng cuối của file.</li>\n<li><code class=\"language-text\">0</code> để nhảy đến đầu dòng, :0 để nhảy tới dòng đầu tiên của file.</li>\n<li><code class=\"language-text\">d$</code> xóa từ vị trí con trỏ hiện tại đến cuối dòng.</li>\n<li><code class=\"language-text\">:10,$ d</code> xóa từ dòng 10 cho đến dòng cuối cùng của file, hoặc ngược lại.</li>\n<li><code class=\"language-text\">:10,20 m 0</code> chuyển rời dòng 10 đến 20 lên trên dòng đầu tiên của file.</li>\n</ul>\n<h2 id=\"9-shell\" style=\"position:relative;\"><a href=\"#9-shell\" aria-label=\"9 shell permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. Shell</h2>\n<ul>\n<li>Sử dụng <code class=\"language-text\">:!command</code> để thi hành lệnh command trong môi trường vi.\nTrên đây là giới thiệu cách sử dụng vi một cách cơ bản và đủ dùng cho mọi đối tượng người sử dụng linux. Người dùng muốn tham khảo thêm có thể lên website của vim tại <a href=\"https://www.vim.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.vim.org/</a>.</li>\n</ul>","fields":{"slug":"/2014/06/su-dung-trinh-soan-thao-vi-trong-linux.html","tagSlugs":["/tag/linux/","/tag/fedora/"]},"frontmatter":{"date":"2014-06-15T09:31:00.000+07:00","description":"Linux là một hệ điều hành được điều khiển đa phần qua môi trường dòng lệnh (console), thêm vào đó, các file cấu hình dịch vụ trên Linux thường được chỉnh sửa bởi trình editor là vi (hay vim, bản cải thiện của vi). Nếu bạn là người thường xuyên quản trị server linux qua console, thì vi là trình tiện ích hay sử dụng nhất. Do vậy, học cách sử dụng vi là một yêu cầu tối thiểu và cần thiết cho một người sử dụng linux.","tags":["Linux","Fedora"],"title":"Sử dụng trình soạn thảo \"vi\" trong linux","fbCommentUrl":null}}},"pageContext":{"slug":"/2014/06/su-dung-trinh-soan-thao-vi-trong-linux.html"}},"staticQueryHashes":["251939775","2672868365","401334301"]}