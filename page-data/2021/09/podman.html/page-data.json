{"componentChunkName":"component---src-templates-post-template-tsx","path":"/2021/09/podman.html","result":{"data":{"markdownRemark":{"id":"0c32b335-e885-5b14-8e70-26fbf3aeddf1","html":"<p>I’m looking for some alternatives for Docker. Currently, there are a\nfew of container technologies which are Docker’s most direct competitors,\nsuch as rkt, Podman, containerd, …</p>\n<p>I found that Podman just <a href=\"https://twitter.com/Podman_io/status/1432800271873323010\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">release the v3.3.0</a>\nthat supporting for non-Linux machines, checkpoint/restore, and more.\nIt’s performing much the same role as the Docker engine.\nThe Podman CLI is the same as Docker CLI. You can simply alias the Docker CLI, <code class=\"language-text\">alias docker=podman</code>.</p>\n<p>Docker follows the client/server model, using a daemon to manage all containers under its control.\nHowever, Podman, like rkt and LXC, functions without a central daemon.</p>\n<p>I’m not attempting to convince you to use or not to use Podman, especially ocker has\n<a href=\"https://www.docker.com/blog/updating-product-subscriptions/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">recently announced</a>\nthat Docker Desktop will soon require a paid subscription for Team or Business.\nThis is just a note if you want to try it on your Mac.\nD</p>\n<h1 id=\"install-the-podman-on-mac\" style=\"position:relative;\"><a href=\"#install-the-podman-on-mac\" aria-label=\"install the podman on mac permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install the Podman on Mac</h1>\n<ol>\n<li>Simple by using Homebrew:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> podman</code></pre></div>\n<ol start=\"2\">\n<li>Initial the Machine for Podman to run from:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">podman machine init</code></pre></div>\n<ol start=\"3\">\n<li>Start the Machine</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">podman machine start</code></pre></div>\n<ol start=\"4\">\n<li>(Optional) Make the alias as I mention before</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">docker</span><span class=\"token operator\">=</span>podman</code></pre></div>\n<ol start=\"5\">\n<li>Some configuration to make it work as the same with Docker engine. Although Docker and Podman CLI commands are similar,\nbut there are a few issues behind the scenes might hit.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">podman machine <span class=\"token function\">ssh</span>\n\n<span class=\"token function\">sudo</span> <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/short-name-mode=\"enforcing\"/short-name-mode=\"permissive\"/g'</span> /etc/containers/registries.conf\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'unqualified-search-registries = [\"docker.io\", \"quay.io\"] >> /etc/containers/registries.conf'</span>\n\n<span class=\"token builtin class-name\">exit</span></code></pre></div>\n<p>The <code class=\"language-text\">short-name-mode</code> refers to container images that don’t have a full domain name prefixed (e.g. <code class=\"language-text\">FROM python:3</code>, <code class=\"language-text\">FROM ubuntu:16</code>),\nwhich will raise an error on Podman. When using Docker, these images are first prefixed with <code class=\"language-text\">docker.io</code> before being pulled.\nWith the <code class=\"language-text\">short-name-mode=permissive</code> config, Podman will try all unqualified-search registries in the given order.</p>\n<h1 id=\"rock-in\" style=\"position:relative;\"><a href=\"#rock-in\" aria-label=\"rock in permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rock in</h1>\n<p>Run the nginx image and try to connect to the port <code class=\"language-text\">8000</code> on the host machine:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">podman run --rm -it --publish <span class=\"token number\">8000</span>:80 docker.io/library/nginx:latest</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://localhost:8000</code></pre></div>\n<p>You can use Podman to run rootless containers, compatible with the Docker CLI,\nand it is a powerful container image for running OCI containers.\nAnd I believe it has not worked perfectly out of the box, Podman still has a few bugs compared with Docker,\nbut why don’t you give it a try to experiment on it.</p>\n<p>Anw, you might can try Podman quickly by go to <a href=\"https://www.katacoda.com/courses/containers-without-docker/running-containers-with-podman\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this url</a>\nby Katacode, which offers an interactive environment directly in your browser.</p>\n<h1 id=\"references\" style=\"position:relative;\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h1>\n<ul>\n<li><a href=\"https://podman.io/whatis.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://podman.io/whatis.html</a></li>\n<li><a href=\"https://developers.redhat.com/blog/2020/11/19/transitioning-from-docker-to-podman#how_to_stop_and_remove_a_container\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developers.redhat.com/blog/2020/11/19/transitioning-from-docker-to-podman#how_to_stop_and_remove_a_container</a></li>\n<li><a href=\"https://www.redhat.com/en/blog/container-migration-podman-rhel\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.redhat.com/en/blog/container-migration-podman-rhel</a></li>\n</ul>","fields":{"slug":"/2021/09/podman.html","tagSlugs":["/tag/data-engineer/","/tag/docker/"]},"frontmatter":{"date":"2021-08-28T00:00:00.000+07:00","description":"I'm looking for some of alternatives for Docker. Currently, there are a  few of container technologies which are Docker’s most direct competitors,  such as rkt, Podman, containerd, ...\n","tags":["Data Engineer","Docker"],"title":"Podman on MacOS","fbCommentUrl":"none"}}},"pageContext":{"slug":"/2021/09/podman.html"}},"staticQueryHashes":["251939775","2672868365","401334301"]}