{"componentChunkName":"component---src-templates-post-template-tsx","path":"/2021/09/podman.html","result":{"data":{"markdownRemark":{"id":"0c32b335-e885-5b14-8e70-26fbf3aeddf1","html":"<p>I’m looking for some alternatives for Docker. Currently, there are a\nfew of container technologies which are Docker’s most direct competitors,\nsuch as rkt, Podman, containerd, …</p>\n<p>I found that Podman just <a href=\"https://twitter.com/Podman_io/status/1432800271873323010\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">release the v3.3.0</a>\nthat supporting for non-Linux machines, checkpoint/restore, and more.\nIt’s performing much the same role as the Docker engine.\nThe Podman CLI is the same as Docker CLI. You can simply alias the Docker CLI, <code class=\"language-text\">alias docker=podman</code>.</p>\n<p>Docker follows the client/server model, using a daemon to manage all containers under its control.\nHowever, Podman, like rkt and LXC, functions without a central daemon.</p>\n<p>I’m not attempting to convince you to use or not to use Podman, especially ocker has\n<a href=\"https://www.docker.com/blog/updating-product-subscriptions/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">recently announced</a>\nthat Docker Desktop will soon require a paid subscription for Team or Business.\nThis is just a note if you want to try it on your Mac.\nD</p>\n<h1 id=\"install-the-podman-on-mac\" style=\"position:relative;\"><a href=\"#install-the-podman-on-mac\" aria-label=\"install the podman on mac permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install the Podman on Mac</h1>\n<ol>\n<li>Simple by using Homebrew:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> podman</code></pre></div>\n<ol start=\"2\">\n<li>Initial the Machine for Podman to run from:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">podman machine init</code></pre></div>\n<ol start=\"3\">\n<li>Start the Machine</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">podman machine start</code></pre></div>\n<ol start=\"4\">\n<li>(Optional) Make the alias as I mention before</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">docker</span><span class=\"token operator\">=</span>podman</code></pre></div>\n<ol start=\"5\">\n<li>Some configuration to make it work as the same with Docker engine. Although Docker and Podman CLI commands are similar,\nbut there are a few issues behind the scenes might hit.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">podman machine <span class=\"token function\">ssh</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">sed</span> -i <span class=\"token string\">'s/short-name-mode=\"enforcing\"/short-name-mode=\"permissive\"/g'</span> /etc/containers/registries.conf</code></pre></div>\n<p>The <code class=\"language-text\">short-name-mode</code> refers to container images that don’t have a full domain name prefixed (e.g. <code class=\"language-text\">FROM python:3</code>, <code class=\"language-text\">FROM ubuntu:16</code>),\nwhich will raise an error on Podman. When using Docker, these images are first prefixed with <code class=\"language-text\">docker.io</code> before being pulled.\nWith the <code class=\"language-text\">short-name-mode=permissive</code> config, Podman will try all unqualified-search registries in the given order.</p>\n<p>Update the <code class=\"language-text\">unqualified-search-registries</code> for your trusted registries:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">echo &#39;unqualified-search-registries = [&quot;docker.io&quot;, &quot;quay.io&quot;] &gt;&gt; /etc/containers/registries.conf&#39;</code></pre></div>\n<h1 id=\"rock-in\" style=\"position:relative;\"><a href=\"#rock-in\" aria-label=\"rock in permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rock in</h1>\n<p>Run the nginx image and try to connect to the port <code class=\"language-text\">8000</code> on the host machine:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">podman run --rm -it --publish <span class=\"token number\">8000</span>:80 docker.io/library/nginx:latest</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://localhost:8000</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec79c93bc1e330fb85568c59da7555d9/12365/podman.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACW0lEQVQozz2Sy07bUBCGvYCEkAu5CpQL5OrYjuMQQAgqJU0CCbkCuRCgEnSFRHeFblAFLZUQbZUd6qZSpfYpeI0ueKCvx27p4tf4/JrzzXjOSO1Wh5bQTr1Np9VlOBwxGIyE12ZleY2NksGLmkGlXmKn0aPT3qfb61NvtlitrKNuJNlqVjk+PmU4OkRqd3YprxbJGWHC8RiRcASXy43P5yMYCBKY9+ALzeL3hUilF4jFwsTjCSKxKN7AHAvRGOFwlIJRpD8cIDV32iSSizjnbcz5vLjdbhwOBx6Ph2AwiM/rx+Oew+l04vcLuMjxer2iqAvbtA3HrIup6WnSKZlmo4LUqO+Qy+kk4klhpkmlUpay2SxLS0tEo1EikQihUEiAfARE12ahQCBAUHihUBC7fYakEqPcLCL19/YpFAqk0+n/IFP5fF4UyllSVRVN0yw9e7quW9HM84gRbQ40rh9HSDfXN1QqVQuSyWTQVM36/n9RdG8Cn6VkFVQTrP/1TbB9aobawTo/nj4iTSYT6vWGBZHlrAVQFEVUNqxRGEbBinnDsC6bkOdimqYKP8eMzU5lvMHPpwek+/vPbG/XSSQS1szS6Ywl86Isy2QF3JQizlnRneX9i6oqRlPUxAztbPaS/Pr9Ceni4pKR2D1dz1uJiqIJmb+XQ87IbJbLdMZjtrtdaq2W2Mc6pWqFlbU18Vgx5MIiy6UMh+9fcvW4i3R68poToaOjVwz6Q8bjI6Fjer09atUt+geHnL294PL2lqu7Oz58/cLk2wNn5+eUxYPoelIseJaDNw3efd/lD1UXP7B0lXpRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ec79c93bc1e330fb85568c59da7555d9/e93cc/podman.webp 300w,\n/static/ec79c93bc1e330fb85568c59da7555d9/b0544/podman.webp 600w,\n/static/ec79c93bc1e330fb85568c59da7555d9/68fc1/podman.webp 1200w,\n/static/ec79c93bc1e330fb85568c59da7555d9/4dc5d/podman.webp 1490w\"\n              sizes=\"(max-width: 1200px) 100vw, 1200px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ec79c93bc1e330fb85568c59da7555d9/eed55/podman.png 300w,\n/static/ec79c93bc1e330fb85568c59da7555d9/7491f/podman.png 600w,\n/static/ec79c93bc1e330fb85568c59da7555d9/8537d/podman.png 1200w,\n/static/ec79c93bc1e330fb85568c59da7555d9/12365/podman.png 1490w\"\n            sizes=\"(max-width: 1200px) 100vw, 1200px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ec79c93bc1e330fb85568c59da7555d9/8537d/podman.png\"\n            alt=\"podman\"\n            title=\"podman\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f7ab11f2e1f43a5327926ff16efde950/88420/podman-nginx.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACaklEQVQozyWRS08TYRSGx1I6nd7vt+mFFgK2FtqiUGJpK9B7KS0GjEBMIJqALoyaGIyXCDEkNC6MGxfAgo2J8SfojzBx5b95nG+6eHPON/nO+z3nHam3vkGn3aVRa9Juddjo9el21mk128zn77BUzVJanaNaK1Gvt2k21+l2+6zVGxQqC8wspiivldje3mVr6yFSt9MjnckQS8QIh8KEQiECgQA+nw+P24s/7CKoelGjUzidTsxmRasunG4XRtmIrJhwOBzMzKQZ3B8gtRodptKT+Cf8eD1efchut6MoijZsRjaZsVpshCMRbDYbY2NjGI1G7A67fnd83ITBYCCZnKK5topUrzXIpDNEI1GCwaBOqKoqkYhQZHSOqsTjccLhsP5NPOj1evUthBwOJzezSVZ780iD3oBoKoLiVvBohB6PR5e4KMz8fr9GZtcliMR6gl5RLKNqsWCQblBoTPPht5bh6ckpxVKRxHRCw04SCoYIBoJ6jsIwpOXqcrmQZVlbbxyTSdajEFmOqowkSSzUsnz/d4Z0PhxSrVSJqTF9DbfboxsIWa1WncSqZSd6i2V0HhmZ9UcsVrNuWGzluPr7VTM8H5LP5/X8hKEwEhmJYVk2j6i0QUEmeqMm8WOETCYjVufIMFMKcf3nPdLx8RvK5QqpZIpC4Ta5XIFb2VniiQli0RjzxSXqg03utVrcazZZXlnhbqXMXKGAx+tHnfQxu5xk53iFd7/6SHt7jzg6esbh4VNEv7//mIODJ2w/2GHQ3+To+QtefzpjeHnB54sLvlxdcv3zB29PPtJeXKS4kKbaz7H7ssurbwP+A1IEKq19PkX/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f7ab11f2e1f43a5327926ff16efde950/e93cc/podman-nginx.webp 300w,\n/static/f7ab11f2e1f43a5327926ff16efde950/b0544/podman-nginx.webp 600w,\n/static/f7ab11f2e1f43a5327926ff16efde950/68fc1/podman-nginx.webp 1200w,\n/static/f7ab11f2e1f43a5327926ff16efde950/7d801/podman-nginx.webp 1468w\"\n              sizes=\"(max-width: 1200px) 100vw, 1200px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f7ab11f2e1f43a5327926ff16efde950/eed55/podman-nginx.png 300w,\n/static/f7ab11f2e1f43a5327926ff16efde950/7491f/podman-nginx.png 600w,\n/static/f7ab11f2e1f43a5327926ff16efde950/8537d/podman-nginx.png 1200w,\n/static/f7ab11f2e1f43a5327926ff16efde950/88420/podman-nginx.png 1468w\"\n            sizes=\"(max-width: 1200px) 100vw, 1200px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f7ab11f2e1f43a5327926ff16efde950/8537d/podman-nginx.png\"\n            alt=\"podman nginx\"\n            title=\"podman nginx\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>You can use Podman to run rootless containers, compatible with the Docker CLI,\nand it is a powerful container image for running OCI containers.\nAnd I believe it has not worked perfectly out of the box, Podman still has a few bugs compared with Docker,\nbut why don’t you give it a try to experiment on it.</p>\n<p>Anw, you might can try Podman quickly by go to <a href=\"https://www.katacoda.com/courses/containers-without-docker/running-containers-with-podman\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this url</a>\nby Katacode, which offers an interactive environment directly in your browser.</p>\n<h1 id=\"references\" style=\"position:relative;\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h1>\n<ul>\n<li><a href=\"https://podman.io/whatis.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://podman.io/whatis.html</a></li>\n<li><a href=\"https://developers.redhat.com/blog/2020/11/19/transitioning-from-docker-to-podman#how_to_stop_and_remove_a_container\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developers.redhat.com/blog/2020/11/19/transitioning-from-docker-to-podman#how_to_stop_and_remove_a_container</a></li>\n<li><a href=\"https://www.redhat.com/en/blog/container-migration-podman-rhel\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.redhat.com/en/blog/container-migration-podman-rhel</a></li>\n</ul>","fields":{"slug":"/2021/09/podman.html","tagSlugs":["/tag/data-engineer/","/tag/docker/"]},"frontmatter":{"date":"2021-09-05T00:00:00.000+07:00","description":"I'm looking for some of alternatives for Docker. Currently, there are a  few of container technologies which are Docker’s most direct competitors,  such as rkt, Podman, containerd, ...\n","tags":["Data Engineer","Docker"],"title":"Podman on MacOS","fbCommentUrl":"none"}}},"pageContext":{"slug":"/2021/09/podman.html"}},"staticQueryHashes":["251939775","2672868365","401334301"]}