{"componentChunkName":"component---src-templates-post-template-js","path":"/2015/08/git-khoi-phuc-bang-reflog.html","result":{"data":{"markdownRemark":{"id":"1b14f0b6-2a4a-55ae-a6ad-0c9d75be181f","html":"<p>Nhiều khi bạn lỡ tay reset hard, xóa commit, xóa branch, … Có rất ít người biết cách để khôi phục, nhiều bạn còn “trâu bò” hơn khi quyết định… ngồi code lại. Hầu hết chúng ta có thể cứu nhờ vào cỗ máy thời gian của Git: reflog</p>\n<h2 id=\"xem-reflog-để-khôi-phục-lại-1-commit-bất-kì\" style=\"position:relative;\"><a href=\"#xem-reflog-%C4%91%E1%BB%83-kh%C3%B4i-ph%E1%BB%A5c-l%E1%BA%A1i-1-commit-b%E1%BA%A5t-k%C3%AC\" aria-label=\"xem reflog để khôi phục lại 1 commit bất kì permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Xem reflog để khôi phục lại 1 commit bất kì</h2>\n<p>Reflog như cỗ máy thời gian, nó ghi lại toàn bộ những gì bạn đã làm, kể cả khi bạn xóa 1 commit nào đó. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">0979a9e HEAD@{1}: reset: moving to HEAD~\n4d77eb9 HEAD@{2}: commit: Add UI for data showcase.\n0979a9e HEAD@{3}: commit: Finish UAF module, need update xls file normaly\n4d3afe9 HEAD@{8}: commit: Finish UFM Module\nc1fe83d HEAD@{9}: commit: Add faculty to model\nb5d314a HEAD@{10}: commit: Add faculty_code\nc528ae5 HEAD@{11}: pull: Fast-forward\n...</code></pre></div>\n<p><code class=\"language-text\">0979a9e</code> hoặc <code class=\"language-text\">HEAD@{3}</code> là id của commit <code class=\"language-text\">Finish UAF module, need update xls file normaly</code>\nĐể khôi phục lại commit đó</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git reset --hard 0979a9e\nHEAD is now at 0979a9e Finish UAF module, need update xls file normaly</code></pre></div>\n<h2 id=\"lỡ-tay-reset---hard\" style=\"position:relative;\"><a href=\"#l%E1%BB%A1-tay-reset---hard\" aria-label=\"lỡ tay reset   hard permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lỡ tay reset —hard</h2>\n<p>Tương tự như trên, ta xem lại reflog</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git reset --hard HEAD~</code></pre></div>\n<p>Kết quả sẽ là</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">0979a9e HEAD@{1}: reset: moving to HEAD~\n4d77eb9 HEAD@{2}: commit: Add UI for data showcase.\n0979a9e HEAD@{3}: commit: Finish UAF module, need update xls file normaly\n237e662 HEAD@{4}: commit: Add noti token update in UFM module\n2e99cad HEAD@{5}: commit: Add run shell script, fix out of memory\n712d37c HEAD@{6}: commit: Fix priority, SGU doesn&#39;t have priority value\n295779f HEAD@{7}: pull: Fast-forward\n....</code></pre></div>\n<p><img src=\"https://1.bp.blogspot.com/-3KF--ZtRoJ8/VcRHZTobPXI/AAAAAAAACsA/ytQrNZKU_1Q/s1600/reflog-duyetdev.png\"></p>\n<p><code class=\"language-text\">0979a9e</code> là commit reset HEAD, <code class=\"language-text\">4d77eb9</code> là commit bị mất bạn cần sẽ nhảy đến.  Để khôi phục</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git reset --hard 0979a9e\nHEAD is now at 0979a9e Finish UAF module, need update xls file normaly</code></pre></div>\n<h2 id=\"lỡ-xóa-branch\" style=\"position:relative;\"><a href=\"#l%E1%BB%A1-x%C3%B3a-branch\" aria-label=\"lỡ xóa branch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lỡ xóa branch</h2>\n<p>Trong trường hợp bạn lỡ xóa branch bằng <code class=\"language-text\">branch -D</code>  thì cũng có thể dễ dàng khôi phục như trường hợp mất commit.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git br -D duyetdev\nDeleted branch duyetdev (was 700674f).</code></pre></div>\n<p>Ta xem lại lịch sử bằng <strong>reflog</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git reflog\n\n9b48127 HEAD@{0}: checkout: moving from duyetdev to master\n788674f HEAD@{1}: reset: moving to 788674f</code></pre></div>\n<p>Trạng thái muốn quay lại là <code class=\"language-text\">788674f</code>, vì thế</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git branch develop 788674f\n$ git checkout develop</code></pre></div>\n<p>Và chúng ta sẽ quay lại branch vừa bị xóa lúc nãy.</p>\n<h2 id=\"kết\" style=\"position:relative;\"><a href=\"#k%E1%BA%BFt\" aria-label=\"kết permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kết</h2>\n<p>Reflog là một công cụ mạnh mẽ trong git, nó như cỗ máy thời gian giúp ta khôi phục bất cứ chỗ nào, đây không phải là công cụ duy nhất nhưng có thể ó sẽ là cứu cánh cuối cùng mỗi khi “lỡ dại” đấy nhé. Chúc bạn thành công :D </p>","fields":{"slug":"/2015/08/git-khoi-phuc-bang-reflog.html","tagSlugs":["/tag/reflog/","/tag/git/","/tag/khoi-phục/"]},"frontmatter":{"date":"2015-08-07T13:03:00.000+07:00","description":"Nhiều khi bạn lỡ tay reset hard, xóa commit, xóa branch, ... Có rất ít người biết cách để khôi phục, nhiều bạn còn \"trâu bò\" hơn khi quyết định.... ngồi code lại. Hầu hết chúng ta có thể cứu nhờ vào cỗ máy thời gian của Git: reflog","tags":["reflog","Git","khôi phục"],"title":"Git - Khôi phục bằng reflog sau khi lỡ tay xóa commit hoặc branch.","fbCommentUrl":"none"}}},"pageContext":{"slug":"/2015/08/git-khoi-phuc-bang-reflog.html"}}}