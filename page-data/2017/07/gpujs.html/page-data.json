{"componentChunkName":"component---src-templates-post-template-js","path":"/2017/07/gpujs.html","result":{"data":{"markdownRemark":{"id":"3c5ddce4-54da-586b-9f85-cfd457fbec21","html":"<p>Mình lướt github và vô tình thấy thư viện <a href=\"http://gpu.rocks/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gpu.js</a> này. gpu.js tự động compile mã Javascript thành một ngôn ngữ ánh xạ khác, và chạy trên GPU nhờ vào WebGL API. Nếu máy trình duyệt không có GPU, mã JS vẫn được thực thi bình thường.</p>\n<p><img src=\"https://1.bp.blogspot.com/-X7Kr5VOlHrs/WXiyj88TKTI/AAAAAAAAmTo/zXoRm7bqaOM-DSDvG1EEBlHaN52T5Tp_gCK4BGAYYCw/s640/687474703a2f2f6770752e726f636b732f696d672f6f67696d6167652e706e67.png\">\nVí dụ về phép nhân ma trận 512x512 trên gpu.js</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> gpu <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GPU</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Create the GPU accelerated function from a kernel</span>\n<span class=\"token comment\">// function that computes a single element in the</span>\n<span class=\"token comment\">// 512 x 512 matrix (2D array). The kernel function</span>\n<span class=\"token comment\">// is run in a parallel manner in the GPU resulting</span>\n<span class=\"token comment\">// in very fast computations! (...sometimes)</span>\n<span class=\"token keyword\">const</span> matMult <span class=\"token operator\">=</span> gpu<span class=\"token punctuation\">.</span><span class=\"token function\">createKernel</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">512</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        sum <span class=\"token operator\">+=</span> a<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>thread<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> b<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>thread<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> sum<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setDimensions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Perform matrix multiplication on 2 matrices of size 512 x 512</span>\n<span class=\"token keyword\">const</span> c <span class=\"token operator\">=</span> <span class=\"token function\">matMult</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Khi chạy benchmark ở <a href=\"http://gpu.rocks/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">trang chủ</a>, tùy vào cấu hình máy bạn, thường phép tính này nhanh hơn 1-15x lần.</p>\n<p><a href=\"https://3.bp.blogspot.com/-LYVs-Hn-dbA/WXixNemXumI/AAAAAAAAmTY/4jNUMj9nKKYR-Czzls_MGFcGcpZq5n4bACLcBGAs/s1600/Screenshot%2Bfrom%2B2017-07-26%2B22-11-18.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://3.bp.blogspot.com/-LYVs-Hn-dbA/WXixNemXumI/AAAAAAAAmTY/4jNUMj9nKKYR-Czzls_MGFcGcpZq5n4bACLcBGAs/s1600/Screenshot%2Bfrom%2B2017-07-26%2B22-11-18.png\"></a></p>\n<h2 id=\"tham-khảo\" style=\"position:relative;\"><a href=\"#tham-kh%E1%BA%A3o\" aria-label=\"tham khảo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tham khảo</h2>\n<ul>\n<li><a href=\"https://github.com/gpujs/gpu.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/gpujs/gpu.js</a></li>\n<li><a href=\"http://gpu.rocks\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://gpu.rocks</a></li>\n</ul>","fields":{"slug":"/2017/07/gpujs.html","tagSlugs":["/tag/gpu/","/tag/js/","/tag/intro-js/","/tag/javascript/"]},"frontmatter":{"date":"2017-07-26T22:18:00.001+07:00","description":"Mình lướt github và vô tình thấy thư viện gpu.js này. gpu.js tự động compile mã Javascript thành một ngôn ngữ ánh xạ khác, và chạy trên GPU nhờ vào WebGL API. Nếu máy trình duyệt không có GPU, mã JS vẫn được thực thi bình thường.","tags":["GPU","js","intro-js","javascript"],"title":"gpu.js - Tăng tốc Javascript với GPU","fbCommentUrl":"none"}}},"pageContext":{"slug":"/2017/07/gpujs.html"}}}