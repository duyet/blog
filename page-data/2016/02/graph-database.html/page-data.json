{"componentChunkName":"component---src-templates-post-template-tsx","path":"/2016/02/graph-database.html","result":{"data":{"markdownRemark":{"id":"d2577868-d65c-5c31-826c-4a7d09f90f13","html":"<p><a href=\"https://blog.duyet.net/2016/02/columnar-database-va-graph-database.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bài trước</a> tôi có nói về Columnar Database và Graph Database. Mục đích là so sánh và đi sâu vào Graph Database. Tiếp đến là xử lý Graph Database với Big Data.</p>\n<p><img src=\"https://2.bp.blogspot.com/-Wq61rnHCVQk/VrHL_XD9alI/AAAAAAAAPEE/8DjlqxdZ5dE/s400/Wikipedia_multilingual_network_graph_July_2013.svg.png\"></p>\n<h2 id=\"graph-đồ-thị\" style=\"position:relative;\"><a href=\"#graph-%C4%91%E1%BB%93-th%E1%BB%8B\" aria-label=\"graph đồ thị permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Graph (đồ thị)</h2>\n<p>Đồ thị là một tập các đối tượng gọi là đỉnh nối với nhau bởi các cạnh. Thông thường, đồ thị được vẽ dưới dạng một tập các điểm (đỉnh, nút) nối với nhau bởi các đoạn thẳng (cạnh). Tùy theo ứng dụng mà một số cạnh có thể có hướng. (<a href=\"https://vi.wikipedia.org/wiki/%C4%90%E1%BB%93_th%E1%BB%8B_(l%C3%BD_thuy%E1%BA%BFt_%C4%91%E1%BB%93_th%E1%BB%8B)\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Wikipedia</a>).</p>\n<h2 id=\"graph-database\" style=\"position:relative;\"><a href=\"#graph-database\" aria-label=\"graph database permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Graph Database</h2>\n<p>Graph Database mô tả và lưu trữ dữ liệu dưới dạng đồ thị, một cách trực quan và dễ dàng truy vấn.\nDĩ nhiên Graph Database cũng sẽ có những ưu, khuyết điểm, những trường hợp nên và không nên sử dụng.</p>\n<h2 id=\"khi-nào-sử-dụng-graph-database\" style=\"position:relative;\"><a href=\"#khi-n%C3%A0o-s%E1%BB%AD-d%E1%BB%A5ng-graph-database\" aria-label=\"khi nào sử dụng graph database permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Khi nào sử dụng Graph Database</h2>\n<p>Quay lại CSDL quan hệ, chúng ta đã quá quen với cách biểu diễn theo từng quan hệ truyền thống, nhưng với những bài toán cần nhiều quan hệ việc sử dụng Relation Database để lưu trữ không phải là một giải pháp hay vì :</p>\n<ul>\n<li>Việc biểu diễn quan hệ dưới dạng bảng không phải là một cách làm trực quan.</li>\n<li>Các phép kết bảng thường tốn rất nhiều chi phí, nhất là với lượng dữ liệu phức tạp, lớn hoặc cực lớn.</li>\n</ul>\n<p>Graph Database liên kết trực tiếp giữa các thực thể (các đỉnh). Do đó Graph giúp trả lời rất nhiều câu hỏi liên quan đến truy vấn dữ liệu một cách hiệu quả hơn so với Relation Database, đồng thời khả năng trực quan hoá dữ liệu của Graph so với Relation Database cũng tốt hơn rất nhiều.</p>\n<p><img src=\"https://4.bp.blogspot.com/-fjwcIPd8oCM/VrHNkZLzGMI/AAAAAAAAPEQ/Fu4htLwQhN0/s400/friend-rd.png\"></p>\n<p>Giả sử ta có một cơ sở dữ liệu quan hệ lưu trữ thông tin người dùng và các bạn bè của họ. Rất phức tạp và tốn nhiều chi phí nếu muốn trả lời các câu hỏi sau:</p>\n<ul>\n<li>Ai là bạn của bạn Alice.</li>\n<li>Ai là bạn chung của Alice và Bob.</li>\n<li>Giả sử Alice không quen Bob, vậy họ phải thông qua những ai để có thể làm quen với nhau một cách nhanh nhất.</li>\n</ul>\n<p>Tuy nhiên Graph Database trả lời câu hỏi trên một cách rất trực tiếp và đơn giản!</p>\n<h2 id=\"neo4j\" style=\"position:relative;\"><a href=\"#neo4j\" aria-label=\"neo4j permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Neo4j</h2>\n<p>Neo4j là một trong những Graph Database phổ biển nhất hiện nay.</p>\n<p><img src=\"https://3.bp.blogspot.com/-0eUtOmtDumg/VrHSmZ1ejwI/AAAAAAAAPEg/ZZZ0x6kuGTE/s400/neo4j-logo-2015.png\"></p>\n<p>Quy ước:</p>\n<ul>\n<li>Đỉnh trong Neo4j</li>\n<li>được ký hiệu là (A)</li>\n<li>có thể có nhiều thuộc tính dưới dạng key:value</li>\n<li>có thể có một hoặc nhiều nhãn (B: Person) : B có nhãn là Person</li>\n<li>Cạnh trong Neo4j</li>\n<li>được ký hiệu là -[rel]-</li>\n<li>có thể có nhiều thuộc tính dưới dạng key:value</li>\n<li>có duy nhất một kiểu của cạnh : (a)-[rel:KNOW]-(b) mô tả a và b được liên kết với nhau bởi cạnh rel có kiểu là KNOW</li>\n<li>có thể có hướng : (a)-[rel:KNOW]->(b)</li>\n</ul>\n<h3 id=\"cài-đặt-neo4j\" style=\"position:relative;\"><a href=\"#c%C3%A0i-%C4%91%E1%BA%B7t-neo4j\" aria-label=\"cài đặt neo4j permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cài đặt Neo4j</h3>\n<p>Download Neo4j bản mới nhất tại trang chủ: <a href=\"http://www.neo4j.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.neo4j.org</a></p>\n<p>Khởi chạy Neo4j bằng lệnh bin/neo4j start</p>\n<p>Truy cập: <a href=\"http://localhost:7474\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://localhost:7474</a> để sử dụng và truy vấn.</p>\n<h2 id=\"neo4j-trong-môi-trường-big-data\" style=\"position:relative;\"><a href=\"#neo4j-trong-m%C3%B4i-tr%C6%B0%E1%BB%9Dng-big-data\" aria-label=\"neo4j trong môi trường big data permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Neo4j trong môi trường Big Data</h2>\n<p>Lưu trữ graph bằng Neo4j thì toàn bộ graph phải nằm trên một máy duy nhất. Đây là nhược điểm rất lớn của Neo4j, điều này khiến việc lưu trữ một big graph bao gồm rất nhiều đỉnh và cạnh bằng Neo4j là rất khó khăn.</p>\n<p>Tuy nhiên vào năm 2010 Google có publish một bài báo về <a href=\"http://kowshik.github.io/JPregel/pregel_paper.pdf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pregel</a> một mô hình hiệu quả cho việc xử lý big graph. Sau đó hai năm, apache đưa ra thư viện mã nguồn mở mới cài đặt mô hình Pregel là <a href=\"https://giraph.apache.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Apache Giraph</a> trên hệ sinh thái Hadoop.</p>\n<p>Đây chính là giải pháp cho việc lưu trữ và xử lý cho các bài toán liên quan đến big graph.</p>\n<p>Giraph tôi sẽ trình bày trong những bài sau.</p>","fields":{"slug":"/2016/02/graph-database.html","tagSlugs":["/tag/database/","/tag/neo-4-j/","/tag/big-data/","/tag/graph-database/","/tag/big-data/"]},"frontmatter":{"date":"2016-02-03T17:13:00.001+07:00","description":"Bài trước tôi có nói về Columnar Database và Graph Database. Mục đích là so sánh và đi sâu vào Graph Database. Tiếp đến là xử lý Graph Database với Big Data.","tags":["Database","Neo4j","BigData","Graph Database","Big Data"],"title":"Graph Database","fbCommentUrl":"none"}}},"pageContext":{"slug":"/2016/02/graph-database.html"}},"staticQueryHashes":["251939775","2672868365","401334301"]}