{"componentChunkName":"component---src-templates-post-template-js","path":"/2016/09/toi-uu-hoa-javascript-voi-google-closure.html","result":{"data":{"markdownRemark":{"id":"e9a2673f-6aa9-597f-87be-1caea8dac8e5","html":"<p><a href=\"https://developers.google.com/closure/compiler/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Closure Compiler</a> là 1 dự án của Google giúp Javascript tải và chạy nhanh hơn. Không phải là biên dịch từ Javascript sang mã máy, mà Closure biên dịch từ Javascript sang better-Javascript. Tức là tự động viết lại Javascript sao cho tối ưu hóa nhất mà kết quả không thay đổi.</p>\n<p>Closure sẽ đọc Javascript, thống kê, loại bỏ dead code, kiểm tra các biến và mối quan hệ giữa chúng, kiểu dữ liệu có hợp lý hay không, viết lại (rewrite) và nén sao cho tối ưu nhất có thể.</p>\n<p><a href=\"https://blog.duyet.net/2016/09/toi-uu-hoa-javascript-voi-google-closure.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://2.bp.blogspot.com/-XJmHynlIbNA/V9jI1Lbj5hI/AAAAAAAAduA/igD5n31EEUcfvwq_Y06IX2cPgsuoEKxZQCK4B/s320/image00.png\"></a>\nClosure được triển khai sử dụng ở các dạng:</p>\n<ul>\n<li>Công cụ dòng lệnh command line (Java)</li>\n<li>Tools online, paste code vào và xuất ngay kết quả: <a href=\"http://saveto.co/y2JGR5\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://closure-compiler.appspot.com/home </a></li>\n<li><a href=\"https://developers.google.com/closure/compiler/docs/gettingstarted_api?csw=1\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">A RESTful API</a>.</li>\n<li>Build Systems: <a href=\"http://saveto.co/uRbdqp\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Plugin cho Webpack hoặc Gulp</a></li>\n</ul>\n<p><img src=\"https://2.bp.blogspot.com/-Vt2-0KTh03o/V9jKPy7cOhI/AAAAAAAAduM/V1eWOzLo9pMSuSNHd2ccFhHtygyj4Ys2gCK4B/s1600/Screenshot%2Bfrom%2B2016-09-14%2B10-33-05.png\"></p>\n<p>Giao diện Web service</p>\n<h2 id=\"closure-compiler-js\" style=\"position:relative;\"><a href=\"#closure-compiler-js\" aria-label=\"closure compiler js permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>closure-compiler-js</h2>\n<p>closure-compiler-js là project sử dụng được closure-compiler (Java) trên Javascript. Cài đặt closure-compiler-js qua npm</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save google-closure-compiler-js</code></pre></div>\n<p>Mặc định Closure hỗ trợ chuyển ES6 sang ES5 và tối ưu hóa code</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> compile <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google-closure-compiler-js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>compile<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> flags <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  jsCode<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>src<span class=\"token operator\">:</span> <span class=\"token string\">'const x = 1 + 2;'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> out <span class=\"token operator\">=</span> <span class=\"token function\">compile</span><span class=\"token punctuation\">(</span>flags<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">.</span>compiledCode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// will print 'var x = 3;\\n'</span></code></pre></div>\n<h3 id=\"webpack\" style=\"position:relative;\"><a href=\"#webpack\" aria-label=\"webpack permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Webpack</h3>\n<p>Cấu hình webpack như bên dưới:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> ClosureCompiler <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'google-closure-compiler-js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>webpack<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  entry<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'app.js'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">'app.min.js'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClosureCompiler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        languageIn<span class=\"token operator\">:</span> <span class=\"token string\">'ECMASCRIPT6'</span><span class=\"token punctuation\">,</span>\n        languageOut<span class=\"token operator\">:</span> <span class=\"token string\">'ECMASCRIPT5'</span><span class=\"token punctuation\">,</span>\n        compilationLevel<span class=\"token operator\">:</span> <span class=\"token string\">'ADVANCED'</span><span class=\"token punctuation\">,</span>\n        warningLevel<span class=\"token operator\">:</span> <span class=\"token string\">'VERBOSE'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"tham-khảo\" style=\"position:relative;\"><a href=\"#tham-kh%E1%BA%A3o\" aria-label=\"tham khảo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tham khảo</h2>\n<p>Còn khá nhiều chức năng và tham số như angularPass, polymerPass, rewritePolyfills, …</p>\n<ul>\n<li>Closure Compiler - <a href=\"https://developers.google.com/closure/compiler/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://developers.google.com/closure/compiler/</a></li>\n<li>Work through the <a href=\"https://developers.google.com/closure/compiler/docs/gettingstarted_app\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Application Hello World</a>.</li>\n<li>Closure Source Code - <a href=\"https://github.com/google/closure-compiler\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/google/closure-compiler</a></li>\n<li>Closure Compiler JS - <a href=\"https://github.com/google/closure-compiler-js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/google/closure-compiler-js</a></li>\n</ul>","fields":{"slug":"/2016/09/toi-uu-hoa-javascript-voi-google-closure.html","tagSlugs":["/tag/optimize/","/tag/js/","/tag/javascript/","/tag/gulp/","/tag/node-js/","/tag/google-closure/","/tag/tối-ưu/","/tag/webpack/","/tag/node/"]},"frontmatter":{"date":"2016-09-14T10:57:00.000+07:00","description":"Closure Compiler là 1 dự án của Google giúp Javascript tải và chạy nhanh hơn. Không phải là biên dịch từ Javascript sang mã máy, mà Closure biên dịch từ Javascript sang better-Javascript. Tức là tự động viết lại Javascript sao cho tối ưu hóa nhất mà kết quả không thay đổi.","tags":["Optimize","js","javascript","Gulp","Node.js","Google Closure","Tối ưu","Webpack","Node"],"title":"Tối ưu hóa Javascript với Google Closure Compiler","fbCommentUrl":"none"}}},"pageContext":{"slug":"/2016/09/toi-uu-hoa-javascript-voi-google-closure.html"}},"staticQueryHashes":["251939775","2672868365","401334301"]}