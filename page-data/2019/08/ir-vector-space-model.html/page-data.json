{"componentChunkName":"component---src-templates-post-template-tsx","path":"/2019/08/ir-vector-space-model.html","result":{"data":{"markdownRemark":{"id":"05b3afcc-1791-5731-8593-af660e0dd6c0","html":"<p>Một hệ thống tìm kiếm thông tin (Information Retrieval - IR) là một hệ thống tra cứu (thường là các tài liệu văn bản) từ một nguồn không có cấu trúc tự nhiên (thường là văn bản), chứa đựng một số thông tin nào đó từ một tập hợp lớn.</p>\n<p><strong>Information Retrieval</strong></p>\n<ul>\n<li><strong>Phần 1</strong>: <strong>Vector Space Model</strong></li>\n<li>Phần 2: <a href=\"/2019/08/ir-evaluation.html\">Đánh giá hệ thống Information Retrieval</a></li>\n<li>Phần 3: <a href=\"#\">Đánh giá hệ thống Information Retrieval (tiếp theo)</a></li>\n</ul>\n<figure>\n\t<blockquote>\n\t\t<p>Information retrieval (IR) is finding material (usually documents) of an unstructured nature (usually text) that satisfies an information need from within large collections (usually stored on computers).</p>\n\t</blockquote>\n</figure>\n<p>Khi nói đến IR là nói đến cách tổ chức trình bày, lưu trữ và tìm kiếm. Tùy kiểu dữ liệu khác nhau mà có các cách thức khác nhau. Một số ví dụ dễ thấy của IR như các cỗ máy tìm kiếm (Search Engine).</p>\n<p>Trong các bài biết về IR mình chủ yếu sẽ nói về cách tổ chức và kỹ thuật xếp hạng tài liệu khi ta tra cứu bằng các truy vấn. Một trong những kỹ thuật phổ biến trong Information Retrieval đó là <strong>Vector Space Model</strong> (dịch ra là mô hình không gian vector).</p>\n<p>Kiến trúc của một hệ thống IR</p>\n<figure>\n  <img src=\"../../media/2019/ir-vector-space-model/IR-infra.png\" />\n  <figcaption>Nguồn: https://www.cl.cam.ac.uk/teaching/1415/InfoRtrv/lecture5.pdf</figcaption>\n</figure>\n<h2 id=\"ký-hiệu\" style=\"position:relative;\"><a href=\"#k%C3%BD-hi%E1%BB%87u\" aria-label=\"ký hiệu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ký hiệu</h2>\n<p>Ta có một số ký hiệu sau:</p>\n<ul>\n<li>Query (Câu truy vấn) <span class=\"math math-inline\">q = t_1 ... t_m</span></li>\n<li>Tài liệu (Documents) <span class=\"math math-inline\">d = d_{i_1}, d_{i_2}, ..., t_{i_n}</span></li>\n<li>Collection <span class=\"math math-inline\">C = \\{d_1, ..., d_k\\}</span></li>\n<li><span class=\"math math-inline\">Rel(q, d)</span>: relevance giữa <span class=\"math math-inline\">d</span> và <span class=\"math math-inline\">q</span></li>\n<li><span class=\"math math-inline\">Rep(d)</span>: hàm biểu diễn tài liệu <span class=\"math math-inline\">d</span></li>\n<li><span class=\"math math-inline\">Rep(q)</span>: hàm biểu diễn truy vấn <span class=\"math math-inline\">q</span></li>\n</ul>\n<h2 id=\"1-ý-tưởng-của-vector-space-model\" style=\"position:relative;\"><a href=\"#1-%C3%BD-t%C6%B0%E1%BB%9Fng-c%E1%BB%A7a-vector-space-model\" aria-label=\"1 ý tưởng của vector space model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Ý tưởng của Vector Space Model</h2>\n<p>Với mỗi truy vấn, hệ thống tìm kiếm sẽ sử dụng một độ đo <span class=\"math math-inline\">Rel(q, d)</span> để tính độ tương đồng giữa truy vấn (query) đó với các tài liệu (docs), từ đó xếp dạng được kết quả trả về.</p>\n<p>Ý tưởng của Vector Space Model là <strong>biểu diễn văn bản và các câu truy vấn dưới dạng Vector</strong>, <span class=\"math math-inline\">Rep(d)</span> của docs và <span class=\"math math-inline\">Rep(q)</span> của query sẽ cho kết quả là các vector. Sau đó <strong>tính độ tương đồng của query</strong> với từng documents theo công thức <span class=\"math math-inline\">Sim(Rep(q), Rep(d))</span> để tìm ra docs vào phù hợp nhất với query.</p>\n<ol>\n<li>Biến đổi các queries và docs thành dạng vector như sau:</li>\n</ol>\n<div class=\"math math-display\">d_j = ( w_{1,j} ,w_{2,j} , \\dotsc ,w_{t,j} )</div>\n<div class=\"math math-display\">q = ( w_{1,q} ,w_{2,q} , \\dotsc ,w_{n,q} )</div>\n<ol start=\"2\">\n<li>Từ đó sử dụng một độ đo khoảng cách trên vector <span class=\"math math-inline\">q</span> và <span class=\"math math-inline\">d_j</span> để xếp hạng các docs.</li>\n</ol>\n<p><img src=\"/f416b77078f10de342a289bd49bf877a/query-vs-docs.svg\" alt=\"\"></p>\n<figure>\n\t<blockquote>\n\t\t<p>Relevant = Similarity</p>\n\t</blockquote>\n</figure>\n<h3 id=\"các-giả-định\" style=\"position:relative;\"><a href=\"#c%C3%A1c-gi%E1%BA%A3-%C4%91%E1%BB%8Bnh\" aria-label=\"các giả định permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Các giả định:</h3>\n<ul>\n<li>\n<p>Các query và documents được biểu diễn cùng một định dạng với nhau (cùng kích thước, cách biểu diễn trọng số).</p>\n</li>\n<li>\n<p><span class=\"math math-inline\">Relevance(d, q) \\Leftrightarrow similarity(d, q)</span></p>\n</li>\n<li>\n<p><span class=\"math math-inline\">similarity(d, q)</span> có thể được tính bằng bất cứ độ đo trên vector nào (e.g. <a href=\"https://en.wikipedia.org/wiki/Euclidean_vector#Dot_product\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Euclidean</a>, <a href=\"https://en.wikipedia.org/wiki/Cosine_similarity\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Consine Similarity</a>, … )</p>\n<div class=\"math math-display\">    R(q) = \\{ d \\in C\\ |\\ rel(d, q) > \\theta,\\ rel(d, q) = \\Delta( Rep(q), Rep(d) ) \\}</div>\n</li>\n</ul>\n<h3 id=\"các-vấn-đề-đặt-ra\" style=\"position:relative;\"><a href=\"#c%C3%A1c-v%E1%BA%A5n-%C4%91%E1%BB%81-%C4%91%E1%BA%B7t-ra\" aria-label=\"các vấn đề đặt ra permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Các vấn đề đặt ra</h3>\n<p>Các vấn đề cần đặt ra là:</p>\n<ol>\n<li>Làm thế nào để biểu diễn <span class=\"math math-inline\">q</span> và <span class=\"math math-inline\">d</span>, công thức tính <span class=\"math math-inline\">Rep(d)</span>, <span class=\"math math-inline\">Rep(q)</span>.</li>\n<li>Làm thể nào để định nghĩa công thức tính độ tương đồng <span class=\"math math-inline\">\\Delta( Rep(q), Rep(d) )</span></li>\n</ol>\n<h2 id=\"2-concept-vectors\" style=\"position:relative;\"><a href=\"#2-concept-vectors\" aria-label=\"2 concept vectors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Concept vectors</h2>\n<p>Biểu diễn documents và query bởi các <strong>concept vectors</strong></p>\n<ul>\n<li>Mỗi concept biểu diễn một chiều</li>\n<li>K concepts biểu diễn một không gian nhiều chiều.</li>\n<li>Ta cần định nghĩa trọng số (weight) cho từng chiều của vector.</li>\n</ul>\n<p><img src=\"/b87771638f42a013b5ef379c159e6e74/concept-vector.svg\" alt=\"\"></p>\n<h2 id=\"3-tìm-trọng-số-weights-cho-vector\" style=\"position:relative;\"><a href=\"#3-t%C3%ACm-tr%E1%BB%8Dng-s%E1%BB%91-weights-cho-vector\" aria-label=\"3 tìm trọng số weights cho vector permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Tìm trọng số (weights) cho vector</h2>\n<p>Cách xác định và tính weights cho vector là hết sức quan trọng, ảnh hưởng đến độ chính xác của các thuật toán xếp hạng. Việc các từ có trọng số khác nhau là do không phải các từ đều có sự quan trọng giống nhau, sử dụng số lần xuất hiện của các từ làm vector không phải là một cách tối ưu. Ở phương diện các documents, một vài từ có thể mang nhiều thông tin hơn các từ còn lại.</p>\n<p>Có nhiều kỹ thuật tính trọng số: TF, IDF, TF-IDF, …</p>\n<h3 id=\"a-tf-term-frequency\" style=\"position:relative;\"><a href=\"#a-tf-term-frequency\" aria-label=\"a tf term frequency permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>a. TF: Term frequency</h3>\n<p>Từ nào xuất hiện nhiều trong câu thì quan trọng, công thức này sẽ đếm tuần suất xuất hiện các từ trong câu.</p>\n<div class=\"math math-display\">    tf(t, d) = f(t, d) \\sim \\text{tần số xuất hiện của t trong d}</div>\n<p><strong>TF normalization</strong>: Do tùy độ dài ngắn khác nhau của từng câu, mà việc đếm tần suất các từ có thể không công bằng, một số kỹ thuật chuẩn hóa sau có thể giảm tránh được điều này,</p>\n<ul>\n<li>Chia cho độ dài câu.</li>\n<li><span class=\"math math-inline\">tf(t, d) = \\log(1+f_{{t,d}})</span></li>\n<li><span class=\"math math-inline\">tf(t, d) = {\\displaystyle K+(1-K){\\frac {f_{t,d}}{\\max _{\\{t'\\in d\\}}{f_{t',d}}}}}</span></li>\n</ul>\n<h3 id=\"b-idf-inverse-document-frequency\" style=\"position:relative;\"><a href=\"#b-idf-inverse-document-frequency\" aria-label=\"b idf inverse document frequency permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>b. IDF: Inverse document frequency</h3>\n<p>Từ nào xuất hiện nhiều trong mọi câu thì không mang nhiều ý nghĩa (ví dụ như <em>a, the, are, thì, là, …</em>). Vì vậy trọng số IDF là nghịch đảo của tuần suất xuất hiện của các từ trong các documents.</p>\n<div class=\"math math-display\"> \\mathrm{idf}(t, D) =  \\log \\frac{N}{1 + |\\{d \\in D: t \\in d\\}|}</div>\n<p>Với:</p>\n<ul>\n<li><span class=\"math math-inline\">N</span>: số cài liệu trong tập corpus <span class=\"math math-inline\">N = {|D|}</span></li>\n<li><span class=\"math math-inline\">|\\{d \\in D: t \\in d\\}|</span>: số docs mà từ <span class=\"math math-inline\">t</span> xuất hiện. Cộng 1 cho mẫu số để tránh trường hợp chia cho 0 nếu từ đó không xuất hiện trong copus <span class=\"math math-inline\">1 + |\\{d \\in D: t \\in d\\}|</span>.</li>\n</ul>\n<h3 id=\"c-tf-idf-term-frequency---inverse-document-frequency\" style=\"position:relative;\"><a href=\"#c-tf-idf-term-frequency---inverse-document-frequency\" aria-label=\"c tf idf term frequency   inverse document frequency permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>c. TF-IDF: Term frequency - Inverse document frequency</h3>\n<p>Phép nhân giữa TD và IDF cho phép ta kết hợp cả 2 độ đo trên, từ vừa xuất hiện nhiều lần trong câu, vừa không phải là từ phổ biến xuất hiện trong mọi câu.</p>\n<div class=\"math math-display\">    {\\displaystyle \\mathrm {tfidf} (t,d,D)=\\mathrm {tf} (t,d)\\cdot \\mathrm {idf} (t,D)}</div>\n<h2 id=\"4-các-độ-đo-similarity\" style=\"position:relative;\"><a href=\"#4-c%C3%A1c-%C4%91%E1%BB%99-%C4%91o-similarity\" aria-label=\"4 các độ đo similarity permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Các độ đo similarity</h2>\n<p>Sau khi có được các vector cho query và docs, ta tính được similarity bằng cách tính khoảng cách giữa các vector.</p>\n<h3 id=\"a-euclidean-distance\" style=\"position:relative;\"><a href=\"#a-euclidean-distance\" aria-label=\"a euclidean distance permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>a. Euclidean distance</h3>\n<p>Công thức tính theo WiKi:</p>\n<div class=\"math math-display\">\n{\\displaystyle {\\begin{aligned}d(\\mathbf {d} ,\\mathbf {q} )&#x26;={\\sqrt {(d_{1}-q_{1})^{2}+(d_{2}-q_{2})^{2}+\\cdots +(d_{n}-q_{n})^{2}}}\\\\[8pt]&#x26;={\\sqrt {\\sum _{i=1}^{n}(d_{i}-q_{i})^{2}}}.\\end{aligned}}}</div>\n<p>Nhược điểm:</p>\n<ul>\n<li>Docs dài hơn sẽ bị giảm hạn do chứa nhiều từ khác gây nhiễu, khiến khoảng cách xa hơn.</li>\n</ul>\n<h3 id=\"b-manhattan\" style=\"position:relative;\"><a href=\"#b-manhattan\" aria-label=\"b manhattan permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>b. Manhattan</h3>\n<p>Manhattan distance hay còn gọi là L1 distance, tính khoảng cách 2 vector theo công thức</p>\n<div class=\"math math-display\">    d_{1}(\\mathbf {p} ,\\mathbf {q} )=\\|\\mathbf {p} -\\mathbf {q} \\|_{1}=\\sum _{i=1}^{n}|p_{i}-q_{i}|</div>\n<h3 id=\"c-độ-đo-góc\" style=\"position:relative;\"><a href=\"#c-%C4%91%E1%BB%99-%C4%91o-g%C3%B3c\" aria-label=\"c độ đo góc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>c. Độ đo góc</h3>\n<p>Việc tính xem các vector overlapped với nhau như thế nào cũng là một phép so sánh hay sử dụng, độ đo góc phổ biến là Cosine Similarity.</p>\n<div class=\"math math-display\">{\\displaystyle {\\text{similarity}}=\\cos(\\theta )={\\mathbf {A} \\cdot \\mathbf {B}  \\over \\|\\mathbf {A} \\|\\|\\mathbf {B} \\|}={\\frac {\\sum \\limits _{i=1}^{n}{A_{i}B_{i}}}{{\\sqrt {\\sum \\limits _{i=1}^{n}{A_{i}^{2}}}}{\\sqrt {\\sum \\limits _{i=1}^{n}{B_{i}^{2}}}}}}}</div>\n<hr>\n<p>Sau khi biểu diễn dưới dạng vector và tính khoảng cách, ta xếp hạng được các tài liệu tìm kiếm với từng query vector.</p>\n<p><img src=\"/f80dc047fe9c88dae3fdcad8375d9d42/query-vs-docs-sorted.svg\" alt=\"\"></p>\n<h2 id=\"5-ưu-và-nhược-điểm-của-vector-space-model\" style=\"position:relative;\"><a href=\"#5-%C6%B0u-v%C3%A0-nh%C6%B0%E1%BB%A3c-%C4%91i%E1%BB%83m-c%E1%BB%A7a-vector-space-model\" aria-label=\"5 ưu và nhược điểm của vector space model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Ưu và nhược điểm của Vector Space Model</h2>\n<h3 id=\"a-ưu-điểm\" style=\"position:relative;\"><a href=\"#a-%C6%B0u-%C4%91i%E1%BB%83m\" aria-label=\"a ưu điểm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>a. Ưu điểm</h3>\n<ul>\n<li>Dễ hiểu và dễ cài đặt</li>\n<li>Đã được nghiên cứu từ lâu và thực nghiệm cho kết quả tốt và khả thi</li>\n<li>Hiện tại là phương pháp được sử dụng rộng rãi</li>\n<li>Có nhiều công thức tính TF.IDF khác nhau.</li>\n</ul>\n<h3 id=\"b-nhược-điểm\" style=\"position:relative;\"><a href=\"#b-nh%C6%B0%E1%BB%A3c-%C4%91i%E1%BB%83m\" aria-label=\"b nhược điểm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>b. Nhược điểm</h3>\n<ul>\n<li>Để cho kết quả đúng đắn, ta giả định:\n<ul>\n<li>Các câu là độc lập với nhau</li>\n<li>Các query và documents cùng loại với nhau</li>\n</ul>\n</li>\n<li>Có nhiều tham số để hiệu chỉnh\n<ul>\n<li>Bộ từ điển</li>\n<li>Tham số trong các hàm Normalize</li>\n<li>Threshold để chọn ra top kết quả</li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/2019/08/ir-vector-space-model.html","tagSlugs":["/tag/data/","/tag/data-engineer/","/tag/information-retrieval/","/tag/nlp/"]},"frontmatter":{"date":"2019-08-30T20:00:00.000+07:00","description":"Hệ thống tra cứu thông tin - Information Retrieval. Một hệ thống tìm kiếm thông tin (Information Retrieval - IR) là một hệ thống tra cứu (thường là các tài liệu văn bản) từ một nguồn không có cấu trúc tự nhiên (thường là văn bản), chứa đựng một số thông tin nào đó từ một tập hợp lớn. Một trong những kỹ thuật phổ biến trong Information Retrieval đó là Vector Space Model.","tags":["Data","Data Engineer","Information Retrieval","NLP"],"title":"Information Retrieval - Vector Space Model","fbCommentUrl":"none"}}},"pageContext":{"slug":"/2019/08/ir-vector-space-model.html"}},"staticQueryHashes":["251939775","2672868365","401334301"]}