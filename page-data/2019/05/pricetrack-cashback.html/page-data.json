{"componentChunkName":"component---src-templates-post-template-tsx","path":"/2019/05/pricetrack-cashback.html","result":{"data":{"markdownRemark":{"id":"1e5442ad-8ef3-52be-a726-5d91a5ae166f","html":"<p>Pricetrack (<a href=\"https://pricetrack.web.app/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://pricetrack.web.app</a>) là một side project nhỏ của mình với chức năng theo dõi giá liên tục từ các trang TMDT (<strong>tiki.vn, shopee.vn, …</strong>), thông báo và <strong><a href=\"https://tracker.duyet.net/cashback/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">cashback</a></strong> hoàn tiền.<br>\nVì hay mua sắm nên pricetrack giúp mình check được giá ảo lên xuống thất thường, hoặc track khi nào có khuyến mãi thì mua.<br>\nKhi giá thay đổi, giảm hoặc dưới ngưỡng mong muốn, tracker sẽ alert thông qua email hoặc push notification qua trình duyệt. Được build hoàn toàn từ <a href=\"http://firebase.google.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase</a> của Google, trong lúc mình test các dịch vụ của nền tảng này thì pricetrack ra đời.</p>\n<p><a href=\"https://1.bp.blogspot.com/-YI_vbZhajkU/XNl4r1H3CRI/AAAAAAABAgI/eZRSFuf3RXQsltqLb2_ObS_lWlE475n5wCLcBGAs/s1600/screenshot-detail.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://1.bp.blogspot.com/-YI_vbZhajkU/XNl4r1H3CRI/AAAAAAABAgI/eZRSFuf3RXQsltqLb2_ObS_lWlE475n5wCLcBGAs/s1600/screenshot-detail.png\" alt=\"\"></a></p>\n<p>Các service <a href=\"https://tracker.duyet.net/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">pricetrack</a> sử dụng bao gồm:</p>\n<ol>\n<li>Backend: <a href=\"https://firebase.google.com/docs/functions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase Functions</a> (Nodejs 8.x) với chức năng Serverless như AWS Lambda</li>\n<li>Database: <a href=\"https://firebase.google.com/docs/firestore\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firestore</a></li>\n<li>Frontend: <a href=\"https://firebase.google.com/docs/hosting\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase Hosting</a> (+ <a href=\"https://www.gatsbyjs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GatsbyJS</a> Framework) + <a href=\"https://firebase.google.com/docs/auth\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase Authentication</a></li>\n</ol>\n<p>Demo: <a href=\"https://pricetrack.web.app/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://pricetrack.web.app</a> hoặc <a href=\"https://tracker.duyet.net/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://tracker.duyet.net</a><br>\nSource code: <a href=\"https://github.com/duyet/pricetrack\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/duyet/pricetrack</a></p>\n<p><strong>Pricetrack hoạt động như thế nào?</strong></p>\n<ol>\n<li>User đăng nhập vào frontend. Thêm các URL sản phẩm cần theo dõi</li>\n<li>Các worker (thực chất là firebase functions) sẽ chạy định kỳ 15 phút, crawl và lấy thông tin sản phẩm bao gồm giá, tên, tồn kho, …</li>\n<li>Nếu có thay đổi sẽ trigger function alert theo thông tin trên Firestore DB.</li>\n<li>Chức năng cashback hoàn tiền được cung cập bởi <a href=\"https://s.duyet.net/r/accesstrade\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Accesstrade</a></li>\n</ol>\n<p>Mỗi URL chạy 15 phút, với số lượng nhỏ tầm 500 urls trên hệ thống này thì chi phí gọi functions và read/write Firestore cũng cần được quan tâm. Mình có dự định move các worker này sang các platform khác tiết kiệm hơn. Serverless chưa chắc là đã ít tốn kém hơn truyền thống.</p>\n<p><a href=\"https://4.bp.blogspot.com/-yjLFKumnkqU/XNl8gozJj2I/AAAAAAABAgs/SZGXZ2gb4jUTS9RKbBvemyoN3UwUEzGGwCLcBGAs/s1600/Screen%2BShot%2B2019-05-13%2Bat%2B9.17.24%2BPM.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://4.bp.blogspot.com/-yjLFKumnkqU/XNl8gozJj2I/AAAAAAABAgs/SZGXZ2gb4jUTS9RKbBvemyoN3UwUEzGGwCLcBGAs/s1600/Screen%2BShot%2B2019-05-13%2Bat%2B9.17.24%2BPM.png\" alt=\"\"></a></p>\n<p>Với khoản 300 urls mình tốn hơn 31.000 lần gọi functions một ngày</p>\n<p>Nếu có thời gian mình sẽ có một bài chi tiết để build pricetracker trên Firebase step-by-step, nhược điểm và khó khăn khi sử dụng Firebase. Sau đây là screenshot quảng cáo.</p>\n<p><a href=\"https://4.bp.blogspot.com/-qWer4_8UhKc/XNl84gVOOtI/AAAAAAABAg0/EpXkmgbUE5Y7df0o_4WvOrk9wTzBfYYSgCLcBGAs/s1600/screenshot-home.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://4.bp.blogspot.com/-qWer4_8UhKc/XNl84gVOOtI/AAAAAAABAg0/EpXkmgbUE5Y7df0o_4WvOrk9wTzBfYYSgCLcBGAs/s1600/screenshot-home.png\" alt=\"\"></a></p>\n<p><a href=\"https://2.bp.blogspot.com/-10Mnwwqwpw8/XNl86re22sI/AAAAAAABAg4/B67YJ6cS5Ds8iFZc775w5L46ZWSw01hAwCLcBGAs/s1600/screenshot-detail.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://2.bp.blogspot.com/-10Mnwwqwpw8/XNl86re22sI/AAAAAAABAg4/B67YJ6cS5Ds8iFZc775w5L46ZWSw01hAwCLcBGAs/s1600/screenshot-detail.png\" alt=\"\"></a></p>\n<p><a href=\"https://4.bp.blogspot.com/-El1Ibr9MTN0/XNl87g5iGpI/AAAAAAABAg8/dAp5GoZidschzMs3zy8ftuiSBlDVIoUNwCLcBGAs/s1600/screenshot-about.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://4.bp.blogspot.com/-El1Ibr9MTN0/XNl87g5iGpI/AAAAAAABAg8/dAp5GoZidschzMs3zy8ftuiSBlDVIoUNwCLcBGAs/s1600/screenshot-about.png\" alt=\"\"></a></p>\n<p><a href=\"https://2.bp.blogspot.com/-IYU-qtevl4c/XNl88SOs9cI/AAAAAAABAhA/VVYy92Ykqf4Y_dSHavmXrfV30Ia2gyRxgCLcBGAs/s1600/screenshot-cashback.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://2.bp.blogspot.com/-IYU-qtevl4c/XNl88SOs9cI/AAAAAAABAhA/VVYy92Ykqf4Y_dSHavmXrfV30Ia2gyRxgCLcBGAs/s1600/screenshot-cashback.png\" alt=\"\"></a></p>\n<p><a href=\"https://2.bp.blogspot.com/-_GpCFBsDRO0/XNl9CAP1VSI/AAAAAAABAhE/lmOIFpbksU0YrK7ol3XZ_r_h6NDkpLjkgCLcBGAs/s1600/intro-raw-api.png\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://2.bp.blogspot.com/-_GpCFBsDRO0/XNl9CAP1VSI/AAAAAAABAhE/lmOIFpbksU0YrK7ol3XZ_r_h6NDkpLjkgCLcBGAs/s1600/intro-raw-api.png\" alt=\"\"></a></p>","fields":{"slug":"/2019/05/pricetrack-cashback.html","tagSlugs":["/tag/firebase/","/tag/firebase-functions/","/tag/firebase-hosting/","/tag/side-project/","/tag/project/"]},"frontmatter":{"date":"2019-05-13T15:00:03.000+07:00","description":"Pricetrack (https://pricetrack.web.app) là một side project nhỏ của mình với chức năng theo dõi giá liên tục từ các trang TMDT (tiki.vn, shopee.vn, ...), thông báo và cashback hoàn tiền. Vì hay mua sắm nên pricetrack giúp mình check được giá ảo lên xuống thất thường, hoặc track khi nào có khuyến mãi thì mua. Khi giá thay đổi, giảm hoặc dưới ngưỡng mong muốn, tracker sẽ alert thông qua email hoặc push notification qua trình duyệt. Được build hoàn toàn từ Firebase của Google, trong lúc mình test các dịch vụ của nền tảng này thì pricetrack ra đời.","tags":["Firebase","Firebase Functions","Firebase Hosting","Side Project","Project"],"title":"Pricetrack: theo dõi giá và cashback (by Firebase)","fbCommentUrl":"https://blog.duyetdev.com/2019/05/pricetrack-cashback.html"}}},"pageContext":{"slug":"/2019/05/pricetrack-cashback.html"}},"staticQueryHashes":["251939775","2672868365","401334301"]}